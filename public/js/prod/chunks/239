"use strict";(self.webpackChunkvue_laravel=self.webpackChunkvue_laravel||[]).push([[239],{6943:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(629);a(2291);function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const l={name:"MenuDrawer",data:function(){return{group:null,menuDrawer:!1,items:[{title:"Home",icon:"mdi-view-dashboard",link:"/Dashboard"},{title:"Cargar Contrato",icon:"mdi-plus",link:"/LoadContract"},{title:"Ver Contratos",icon:"mdi-clipboard-flow",link:"/ViewContracts"}]}},methods:{},computed:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},(0,r.Se)({user:"login/user"}))};const i=(0,a(1900).Z)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-system-bar",{attrs:{height:"50",color:"secondary"}},[a("v-icon",{attrs:{color:"white"},on:{click:function(t){t.stopPropagation(),e.menuDrawer=!e.menuDrawer}}},[e._v("mdi-menu")])],1),e._v(" "),a("v-navigation-drawer",{attrs:{absolute:"",temporary:""},on:{change:function(t){return e.close()}},model:{value:e.menuDrawer,callback:function(t){e.menuDrawer=t},expression:"menuDrawer"}},[a("v-list-item",[a("v-list-item-avatar",[a("v-img",{attrs:{src:"https://randomuser.me/api/portraits/men/77.jpg"}})],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e.user.name))])],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-list",{attrs:{dense:""}},e._l(e.items,(function(t){return a("v-list-item",{key:t.title,attrs:{link:"",to:t.link},on:{click:function(t){e.menuDrawer=!1}}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icon))])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.title))])],1)],1)})),1)],1)],1)}),[],!1,null,null,null).exports},6239:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});const r={components:{MenuDrawer:a(6943).Z},data:function(){return{dialog:{message:null,color:null,open:!1},colorBase:"#031a50",menu:!1,loader:!1,valid:!1,data:{name:null,date:null,file:null},ruleName:[function(e){return!!e||"El Nombre es Requerido"}],ruleDate:[function(e){return!!e||"La fecha es requerida"}],rulesFile:[function(e){return!!e||"El Archivo es Requerido"}]}},methods:{subirArchivo:function(){var e=this;if(this.$refs.form.validate()){this.loader=!0;var t=new FormData;console.log(this.data.name),t.append("file",this.data.file),t.append("name",this.data.name),t.append("date",this.data.date),this.$store.dispatch("contract/store",t).then((function(t){e.loader=!1,e.dialog={message:t.message,color:t.color,open:!0},t.content&&setTimeout((function(){e.$router.push({path:"ViewContract/"+t.content})}),1e3),e.$refs.form.reset()}))}}},mounted:function(){},computed:{}};const n=(0,a(1900).Z)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{staticStyle:{}},[a("v-overlay",{attrs:{value:e.loader}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),e._v(" "),a("MenuDrawer"),e._v(" "),a("v-main",{staticClass:"mt-5 pa-6"},[a("v-col",[a("v-card",{staticClass:"pa-10 white--text d-flex justify-end",attrs:{color:e.colorBase}},[a("h1",[e._v("Cargar Contratos")])])],1),e._v(" "),a("v-card",{staticClass:"pa-15 ma-15"},[a("v-form",{ref:"form",staticClass:"w-100",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{outlined:"",rules:e.ruleName,"prepend-icon":"mdi-card-text",placeholder:"Nombre"},model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.data.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.data,"date",t)},"update:return-value":function(t){return e.$set(e.data,"date",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{outlined:"",rules:e.ruleDate,label:"Fecha","prepend-icon":"mdi-calendar"},model:{value:e.data.date,callback:function(t){e.$set(e.data,"date",t)},expression:"data.date"}},"v-text-field",n,!1),r))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[e._v(" "),a("v-date-picker",{attrs:{scrollable:""},model:{value:e.data.date,callback:function(t){e.$set(e.data,"date",t)},expression:"data.date"}},[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v("\n                  Cancel\n                ")]),e._v(" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.data.date)}}},[e._v("\n                  OK\n                ")])],1)],1)],1)],1),e._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-file-input",{attrs:{placeholder:"Seleccione el Archivo",rules:e.rulesFile,accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",outlined:"",required:""},model:{value:e.data.file,callback:function(t){e.$set(e.data,"file",t)},expression:"data.file"}})],1)],1),e._v(" "),a("v-row",{staticClass:"d-flex justify-content-end"},[a("v-col",{staticClass:"d-flex justify-end",attrs:{cols:"12"}},[a("v-btn",{staticClass:"white--text",attrs:{color:e.colorBase},on:{click:function(t){return e.subirArchivo()}}},[e._v("Cargar")])],1)],1)],1)],1)],1),e._v(" "),a("v-snackbar",{attrs:{color:e.dialog.color,timeout:4e3,top:!0,right:!0},model:{value:e.dialog.open,callback:function(t){e.$set(e.dialog,"open",t)},expression:"dialog.open"}},[e._v("\n    "+e._s(e.dialog.message)+"\n    "),a("v-icon",{staticClass:"ml-2",attrs:{small:""},on:{click:function(t){e.dialog.open=!1}}},[e._v("mdi-close")])],1)],1)}),[],!1,null,null,null).exports}}]);